<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-8576294465310211">
    <!-- 1. SEO核心：关键词标签（meta keywords） -->
    <meta name="keywords" content="前端API, CSS教程, JS教程, HTML 教程, Python教程, Python数据分析">
    <!-- 2. SEO核心：描述标签（meta description） -->
    <meta name="description" content="该网址分享前端网络请求接口，CSS教程，JS教程，HTML 教程，Python教程，Python数据分析等教程。" />
    <!-- 3. SEO核心：页面标题（title标签，权重最高） -->
    <title>前端网络请求接口</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/frontend-api.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8576294465310211"
        crossorigin="anonymous"></script>
    <!-- google 广告 -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8576294465310211"
        crossorigin="anonymous"></script>
</head>

<body>
    <!-- 导航栏 -->
    <nav id="mainNav"></nav>

    <!-- 装饰元素 -->
    <div class="decorative-element decorative-element-1"></div>
    <div class="decorative-element decorative-element-2"></div>

    <div class="container">
        <header>
            <div class="header-content">
                <div>
                    <h1>前端网络请求接口</h1>
                    <p class="subtitle">API 文档 - 支持多层级菜单</p>
                </div>
                <div class="api-status">
                    <!-- 标题头广告 -->
                    <script async
                        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8576294465310211"
                        crossorigin="anonymous"></script>
                    <!-- 标题头广告2 -->
                    <ins class="adsbygoogle" style="display:inline-block;width:600px;height:90px"
                        data-ad-client="ca-pub-8576294465310211" data-ad-slot="5616219294"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </div>
        </header>

        <div class="content-wrapper">
            <div class="sidebar-container">
                <div class="sidebar" id="sidebar">
                    <!-- 菜单将通过JavaScript动态生成 -->
                </div>

                <!-- 工具栏放在菜单盒子的后面（下方） -->
                <div class="toolbar" id="toolbar">
                    <div class="toolbar-title">开发工具</div>
                    <div class="toolbar-items">
                        <!-- 工具栏项将通过JavaScript动态生成 -->
                    </div>
                </div>
            </div>

            <div class="main-content" id="main-content">
                <!-- 内容将通过JavaScript动态加载 -->
                <img src="https://avatar.bdstatic.com/it/u=2664434043,2728946303&fm=3012&app=3012&autime=1756203629&size=b200,200"
                    alt="二维码" class="qr-code-corner">
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer id="mainFooter"></footer>

    <!-- API数据模板 -->
    <template id="api-template">
        <div class="method-display" data-bind="method-display"></div>
        <h2 class="section-title" data-bind="title">API标题</h2>

        <div class="card">
            <h3 class="card-title"><i class="fas fa-list"></i> 请求参数</h3>
            <p data-bind="param-description">此接口支持以下参数：</p>

            <table class="param-table" data-bind="params">
                <!-- 参数表格将通过JavaScript动态生成 -->
            </table>
        </div>

        <div class="card">
            <h3 class="card-title"><i class="fas fa-code"></i> 请求示例代码</h3>

            <div class="code-block">
                <div class="code-header">
                    <div class="language-tabs">
                        <div class="language-tab active">Fetch</div>
                        <div class="language-tab">jQuery</div>
                        <div class="language-tab">Axios</div>
                        <div class="language-tab">Python</div>
                    </div>
                    <button class="copy-btn">
                        <i class="fas fa-copy"></i> 复制代码
                    </button>
                </div>

                <div class="code-content">
                    <pre data-bind="code-javascript">// JavaScript代码示例</pre>
                </div>
            </div>
        </div>

        <div class="card">
            <h3 class="card-title"><i class="fas fa-reply"></i> 返回响应</h3>

            <div class="response-section">
                <div class="response-code" data-bind="response-code">200 成功</div>
                <div class="response-type" data-bind="response-type">application/json</div>
            </div>

            <div class="json-block">
                <pre data-bind="response-json">{
                        "status": 200,
                        "message": "请求成功",
                        "data": {}
                    }</pre>
            </div>
        </div>

        <div class="pagination">
            <a href="#" class="page-link prev-link" data-bind="prev-link">
                <i class="fas fa-arrow-left"></i>
                <span data-bind="prev-text">上一页</span>
            </a>
            <a href="#" class="page-link next-link" data-bind="next-link">
                <span data-bind="next-text">下一页</span>
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </template>

    <!-- 引入API数据文件 -->
    <script src="../js/apidata.js"></script>

    <script>
        // 生成导航栏
        function generateNavigation() {
            const navElement = document.getElementById('mainNav');

            let navHTML = `
                <div class="nav-container">
                    <a href="../index.html" class="logo">
                        <img src="../image/logo.jpeg" alt="Logo" class="logo-img">
                        <span class="logo-text">${websiteInfo.title}</span>
                    </a>
                    <ul class="nav-links">
            `;

            navItems.forEach(item => {
                const isActive = item.url.includes('frontend-api.html') ? 'active' : '';
                navHTML += `<li><a href="${item.url}" class="${isActive}">${item.name}</a></li>`;
            });

            navHTML += `
                    </ul>
                </div>
            `;

            navElement.innerHTML = navHTML;
        }

        // 生成底部条
        function generateFooter() {
            const footerElement = document.getElementById('mainFooter');
            if (footerElement) {
                footerElement.innerHTML = `<p>© 2024 ${websiteInfo.title} | ${websiteInfo.description}</p>`;
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            // 生成导航栏和底部条
            generateNavigation();
            generateFooter();

            const mainContent = document.getElementById('main-content');
            const sidebar = document.getElementById('sidebar');
            const template = document.getElementById('api-template');

            // 生成菜单
            generateMenu();

            // 生成工具栏
            generateToolbar();

            // 加载默认API
            loadApiData('get-all-video');

            // 生成菜单的函数
            function generateMenu() {
                let menuHTML = '';

                menuConfig.forEach((category, index) => {
                    // 只有第一个菜单默认展开（active），其余默认闭合（不加active类）
                    const isActive = index === 0 ? 'active' : '';
                    const isCollapsed = index === 0 ? '' : 'collapsed';

                    menuHTML += `
                        <div class="menu-category">
                            <div class="menu-header ${isActive} ${isCollapsed}" data-category="${category.id}">
                                <i class="nav-icon ${category.icon}"></i>
                                <span>${category.name}</span>
                                <i class="toggle-icon fas fa-chevron-down"></i>
                            </div>
                            <div class="menu-items">
                    `;

                    category.items.forEach(item => {
                        const methodClass = `method-${item.method.toLowerCase()}`;
                        menuHTML += `
                            <div class="nav-item" data-api="${item.id}">
                                <span class="method-badge ${methodClass}">${item.method}</span>
                                <i class="nav-icon ${item.icon}"></i>
                                <span>${item.name}</span>
                            </div>
                        `;
                    });

                    menuHTML += `
                            </div>
                        </div>
                    `;
                });

                sidebar.innerHTML = menuHTML;

                // 添加菜单点击事件
                const menuHeaders = document.querySelectorAll('.menu-header');
                menuHeaders.forEach(header => {
                    header.addEventListener('click', function () {
                        const categoryId = this.getAttribute('data-category');

                        // 切换当前分类的展开/折叠状态
                        this.classList.toggle('collapsed');

                        // 切换active状态
                        const isActive = this.classList.contains('active');
                        if (isActive) {
                            this.classList.remove('active');
                        } else {
                            this.classList.add('active');
                        }
                    });
                });

                // 添加API项点击事件
                const navItems = document.querySelectorAll('.nav-item');
                navItems.forEach(item => {
                    item.addEventListener('click', function () {
                        const apiId = this.getAttribute('data-api');

                        // 更新导航项状态
                        navItems.forEach(nav => nav.classList.remove('active'));
                        this.classList.add('active');

                        // 加载对应的API数据
                        loadApiData(apiId);
                    });
                });
            }

            // 生成工具栏的函数
            function generateToolbar() {
                const toolbar = document.getElementById('toolbar');
                const toolbarItems = toolbar.querySelector('.toolbar-items');

                // 工具栏配置数据
                const toolbarConfig = [
                    { name: '技术文档', link: 'https://www.w3school.com.cn/html/index.asp' },
                    { name: '在线编辑器', link: 'https://codepen.io' },
                    { name: 'API测试工具', link: 'https://www.postman.com' },
                    { name: 'curl转化', link: 'https://tool.tushuoit.com/curlconverter/index.html' }
                ];

                let itemsHTML = '';

                toolbarConfig.forEach(item => {
                    itemsHTML += `<a href="${item.link}" target="_blank" class="toolbar-item">${item.name}</a>`;
                });

                toolbarItems.innerHTML = itemsHTML;
            }

            // 加载API数据的函数
            function loadApiData(apiId) {
                const api = apiData[apiId] || defaultApiData;

                // 克隆模板
                const clone = template.content.cloneNode(true);

                // 绑定数据
                const elements = clone.querySelectorAll('[data-bind]');
                elements.forEach(element => {
                    const bindKey = element.getAttribute('data-bind');

                    switch (bindKey) {
                        case 'method-display':
                            const methodClass = `method-${api.method.toLowerCase()}`;
                            element.innerHTML = `<span class="method-badge ${methodClass}">${api.method}</span>`;
                            break;
                        case 'title':
                            element.textContent = api.title;
                            break;
                        case 'param-description':
                            element.textContent = api.paramDescription;
                            break;
                        case 'params':
                            // 生成参数表格
                            let tableHtml = '';

                            if (api.params && api.params.length > 0) {
                                tableHtml = `
                                    <thead>
                                        <tr>
                                            <th>参数名称</th>
                                            <th>类型</th>
                                            <th>说明</th>
                                            <th>默认值</th>
                                            <th>示例</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                `;

                                api.params.forEach(param => {
                                    tableHtml += `
                                        <tr>
                                            <td><span class="param-name">${param.name}</span></td>
                                            <td><span class="param-type">${param.type}</span></td>
                                            <td>${param.description}</td>
                                            <td><span class="param-default">${param.defaultValue}</span></td>
                                            <td><span class="param-example">${param.example}</span></td>
                                        </tr>
                                    `;
                                });

                                tableHtml += '</tbody>';
                            } else {
                                tableHtml = '<tbody><tr><td colspan="5" style="text-align: center;">此接口无需参数</td></tr></tbody>';
                            }

                            element.innerHTML = tableHtml;
                            break;
                        case 'code-javascript':
                            element.innerHTML = api.code.fetch;
                            applySyntaxHighlighting(element);
                            break;
                        case 'response-code':
                            element.textContent = api.responseCode;
                            break;
                        case 'response-type':
                            element.textContent = api.responseType;
                            break;
                        case 'response-json':
                            element.textContent = api.responseJson;
                            applyJsonHighlighting(element);
                            break;
                        case 'prev-text':
                            element.textContent = api.prevText;
                            break;
                        case 'next-text':
                            element.textContent = api.nextText;
                            break;
                    }
                });

                // 清空并添加新内容
                mainContent.innerHTML = '<img src="https://avatar.bdstatic.com/it/u=2664434043,2728946303&fm=3012&app=3012&autime=1756203629&size=b200,200" alt="二维码" class="qr-code-corner">';
                mainContent.appendChild(clone);

                // 添加代码复制功能
                setupCodeCopy();

                // 添加语言切换功能
                setupLanguageTabs(api.code);

                // 添加分页链接事件
                setupPaginationLinks(apiId);
            }

            // 设置代码复制功能
            function setupCodeCopy() {
                const copyBtn = document.querySelector('.copy-btn');
                if (copyBtn) {
                    copyBtn.addEventListener('click', function () {
                        const codeElement = document.querySelector('.code-content pre');
                        const codeText = codeElement.textContent;

                        navigator.clipboard.writeText(codeText).then(() => {
                            const originalText = copyBtn.innerHTML;
                            copyBtn.innerHTML = '<i class="fas fa-check"></i> 已复制';
                            copyBtn.style.backgroundColor = '#10b981';

                            setTimeout(() => {
                                copyBtn.innerHTML = originalText;
                                copyBtn.style.backgroundColor = '';
                            }, 2000);
                        });
                    });
                }
            }

            // 设置语言切换功能
            function setupLanguageTabs(codeData) {
                const languageTabs = document.querySelectorAll('.language-tab');
                const codeContent = document.querySelector('.code-content pre');

                languageTabs.forEach(tab => {
                    tab.addEventListener('click', function () {
                        // 移除所有活动状态
                        languageTabs.forEach(t => t.classList.remove('active'));
                        // 为当前选项卡添加活动状态
                        this.classList.add('active');

                        // 切换代码示例
                        const language = this.textContent.toLowerCase();
                        let code = '';

                        switch (language) {
                            case 'jquery':
                                code = codeData.jquery || '// 暂无示例代码';
                                break;
                            case 'fetch':
                                code = codeData.fetch || '// 暂无示例代码';
                                break;
                            case 'python':
                                code = codeData.python || '# 暂无示例代码';
                                break;
                            case 'axios':
                                code = codeData.axios || '// 暂无示例代码';
                                break;
                            default:
                                code = codeData.fetch || '// 暂无示例代码';
                        }

                        codeContent.textContent = code;
                        applySyntaxHighlighting(codeContent);
                    });
                });
            }

            // 设置分页链接
            function setupPaginationLinks(currentApiId) {
                const prevLink = document.querySelector('.prev-link');
                const nextLink = document.querySelector('.next-link');

                // 找到当前API在菜单中的位置
                let currentMenuItem = null;
                let allMenuItems = [];

                // 获取所有菜单项
                document.querySelectorAll('.nav-item').forEach(item => {
                    const apiId = item.getAttribute('data-api');
                    allMenuItems.push(apiId);
                    if (apiId === currentApiId) {
                        currentMenuItem = item;
                    }
                });

                if (prevLink) {
                    prevLink.addEventListener('click', function (e) {
                        e.preventDefault();

                        // 查找前一个菜单项
                        const currentIndex = allMenuItems.indexOf(currentApiId);
                        if (currentIndex > 0) {
                            const prevApiId = allMenuItems[currentIndex - 1];
                            document.querySelector(`[data-api="${prevApiId}"]`).click();
                        } else {
                            // 如果是第一个，则回到最后一个
                            const lastApiId = allMenuItems[allMenuItems.length - 1];
                            document.querySelector(`[data-api="${lastApiId}"]`).click();
                        }
                    });
                }

                if (nextLink) {
                    nextLink.addEventListener('click', function (e) {
                        e.preventDefault();

                        // 查找后一个菜单项
                        const currentIndex = allMenuItems.indexOf(currentApiId);
                        if (currentIndex < allMenuItems.length - 1) {
                            const nextApiId = allMenuItems[currentIndex + 1];
                            document.querySelector(`[data-api="${nextApiId}"]`).click();
                        } else {
                            // 如果是最后一个，则回到第一个
                            const firstApiId = allMenuItems[0];
                            document.querySelector(`[data-api="${firstApiId}"]`).click();
                        }
                    });
                }
            }

            // 简单的语法高亮应用
            function applySyntaxHighlighting(element) {
                let code = element.textContent || element.innerText;

                // 转义 HTML 特殊字符
                code = code.replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;');

                // 按行分割处理
                const lines = code.split('\n');
                let processedLines = [];

                for (let line of lines) {
                    // 处理注释行（以 // 开头）
                    if (line.trim().startsWith('//') || line.trim().startsWith('#')) {
                        processedLines.push(`<span class="comment">${line}</span>`);
                        continue;
                    }

                    // 处理行内注释
                    let processedLine = line;
                    const commentIndex = processedLine.indexOf('//');
                    let commentPart = '';

                    if (commentIndex !== -1) {
                        const beforeComment = processedLine.substring(0, commentIndex);
                        const stringCount = (beforeComment.match(/"/g) || []).length;

                        if (stringCount % 2 === 0) {
                            commentPart = processedLine.substring(commentIndex);
                            processedLine = processedLine.substring(0, commentIndex);
                            commentPart = `<span class="comment">${commentPart}</span>`;
                        }
                    }

                    // 处理字符串
                    processedLine = processedLine.replace(/"([^"\\]*(\\.[^"\\]*)*)"/g, (match) => {
                        return `<span class="string">${match}</span>`;
                    });

                    processedLine = processedLine.replace(/'([^'\\]*(\\.[^'\\]*)*)'/g, (match) => {
                        return `<span class="string">${match}</span>`;
                    });

                    // JavaScript关键字高亮
                    const jsKeywords = ['function', 'const', 'let', 'var', 'if', 'else', 'for', 'while', 'return', 'new', 'class', 'extends', 'import', 'export', 'default', 'async', 'await', 'try', 'catch', 'finally', 'throw', 'undefined', 'null', 'true', 'false'];

                    jsKeywords.forEach(keyword => {
                        const regex = new RegExp(`\\b${keyword}\\b(?![^<]*>)(?![^<]*</span>)`, 'g');
                        processedLine = processedLine.replace(regex, `<span class="keyword">${keyword}</span>`);
                    });

                    // 函数高亮
                    const functionRegex = /\b([a-zA-Z_$][a-zA-Z0-9_$]*)(?=\s*\()/g;
                    processedLine = processedLine.replace(functionRegex, (match, funcName) => {
                        if (!jsKeywords.includes(funcName) && !processedLine.includes(`<span class="keyword">${funcName}</span>`)) {
                            return `<span class="function">${funcName}</span>`;
                        }
                        return match;
                    });

                    // 数字高亮
                    processedLine = processedLine.replace(/\b\d+\b/g, (match) => {
                        const position = processedLine.indexOf(match);
                        const before = processedLine.substring(0, position);
                        const stringTagsBefore = (before.match(/<span class="string">/g) || []).length;
                        const stringTagsClosedBefore = (before.match(/<\/span>/g) || []).length;

                        if (stringTagsBefore === stringTagsClosedBefore) {
                            return `<span class="number">${match}</span>`;
                        }
                        return match;
                    });

                    // 添加回注释部分
                    processedLine += commentPart;
                    processedLines.push(processedLine);
                }

                element.innerHTML = processedLines.join('\n');
            }

            // JSON语法高亮
            function applyJsonHighlighting(element) {
                let json = element.textContent || element.innerText;

                // 转义 HTML 特殊字符
                json = json.replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;');

                // 先处理字符串，避免嵌套
                json = json.replace(/"([^"\\]*(\\.[^"\\]*)*)":/g, (match) => {
                    return `<span class="json-key">${match}</span>`;
                });

                // 处理字符串值（不在键中的字符串）
                json = json.replace(/: "([^"\\]*(\\.[^"\\]*)*)"/g, (match, content) => {
                    return `: <span class="string">"${content}"</span>`;
                });

                // 布尔值和 null 高亮
                json = json.replace(/: (true|false|null)/g, ': <span class="keyword">$1</span>');

                // 数字高亮
                json = json.replace(/: (\d+(?:\.\d+)?)/g, ': <span class="number">$1</span>');

                element.innerHTML = json;
            }
        });

        // 页面加载完成后初始化广告
        window.addEventListener('load', function () {
            try {
                // 创建广告元素
                const adContainer = document.getElementById('ads-container');
                if (adContainer) {
                    // 清空容器
                    adContainer.innerHTML = '';

                    // 创建新的广告元素
                    const adIns = document.createElement('ins');
                    adIns.className = 'adsbygoogle';
                    adIns.style.display = 'block';
                    adIns.style.minHeight = '90px';
                    adIns.setAttribute('data-ad-client', 'ca-pub-8576294465310211');
                    adIns.setAttribute('data-ad-slot', '8433120171');
                    adIns.setAttribute('data-ad-format', 'horizontal');
                    adIns.setAttribute('data-full-width-responsive', 'false');

                    // 添加广告元素到容器
                    adContainer.appendChild(adIns);

                    // 加载广告脚本
                    const script = document.createElement('script');
                    script.async = true;
                    script.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8576294465310211';
                    script.crossOrigin = 'anonymous';
                    script.onload = function () {
                        // 脚本加载完成后推送广告
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    };
                    document.head.appendChild(script);
                }
            } catch (e) {
                console.warn('Adsense error:', e);
            }
        });

    </script>

    <!-- <script>
        // 访问统计
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?76c659762302d64b673ff78e9f6778be";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script> -->
    <script>
        // 核心：用try-catch包裹统计代码，延迟执行避免和React渲染冲突
        window.onload = function () {
            try {
                // 延迟执行：彻底脱离React渲染阶段，减少418触发概率
                setTimeout(() => {
                    var _hmt = _hmt || [];
                    (function () {
                        var hm = document.createElement("script");
                        hm.src = "https://hm.baidu.com/hm.js?76c659762302d64b673ff78e9f6778be";
                        // 改用更稳定的插入方式
                        document.head.appendChild(hm);
                    })();
                }, 500); // 延迟500ms，确保React渲染完成
            } catch (e) {
                // 捕获所有统计代码的执行异常，仅打印日志，不阻断页面
                console.warn("百度统计代码执行异常：", e);
            }
        };
    </script>
</body>

</html>