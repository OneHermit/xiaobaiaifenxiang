<div class="article-body"><div class="article-intro" id="content"><h1>Python <span class="color_h1">字典(Dictionary)</span></h1><p>字典是另一种可变容器模型，且可存储任意类型对象。</p><p>字典的每个键值 <span class="marked">key:value</span> 对用冒号 <span class="marked">:</span> 分割，每个键值对之间用逗号 <span class="marked">,</span> 分割，整个字典包括在花括号 <span class="marked">{}</span> 中 ,格式如下所示： </p><div class="example"><div class="example_code"><div class="hl-main"><span class="hl-identifier">d</span><span class="hl-code"> = {</span><span class="hl-identifier">key1</span><span class="hl-code"> : </span><span class="hl-identifier">value1</span><span class="hl-code">, </span><span class="hl-identifier">key2</span><span class="hl-code"> : </span><span class="hl-identifier">value2</span><span class="hl-code"> }</span></div></div></div><p><strong>注意：</strong><span class="marked">dict</span> 作为 Python 的关键字和内置函数，变量名不建议命名为 <strong>dict</strong>。</p><p>键一般是唯一的，如果重复最后的一个键值对会替换前面的，值不需要唯一。</p><div class="example"><div class="example_code"><span style="color: Gray;">&gt;&gt;&gt;</span> tinydict <span style="color: Gray;">=</span> <span style="color: Olive;">{</span><span style="color: #a11;">'a'</span>: <span style="color: Maroon;">1</span><span style="color: Gray;">,</span> <span style="color: #a11;">'b'</span>: <span style="color: Maroon;">2</span><span style="color: Gray;">,</span> <span style="color: #a11;">'b'</span>: <span style="color: #a11;">'3'</span><span style="color: Olive;">}</span><br><span style="color: Gray;">&gt;&gt;&gt;</span> tinydict<span style="color: Olive;">[</span><span style="color: #a11;">'b'</span><span style="color: Olive;">]</span><br><span style="color: #a11;">'3'</span><br><span style="color: Gray;">&gt;&gt;&gt;</span> tinydict<br><span style="color: Olive;">{</span><span style="color: #a11;">'a'</span>: <span style="color: Maroon;">1</span><span style="color: Gray;">,</span> <span style="color: #a11;">'b'</span>: <span style="color: #a11;">'3'</span><span style="color: Olive;">}</span><br></div></div><p>值可以取任何数据类型，但键必须是不可变的，如字符串，数字或元组。</p><p>一个简单的字典实例：</p><div class="example"><div class="example_code"><div class="hl-main"><span class="hl-identifier">tinydict</span><span class="hl-code"> = {</span><span class="hl-quotes">'</span><span class="hl-string">Alice</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">2341</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Beth</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">9102</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Cecil</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">3258</span><span class="hl-quotes">'</span><span class="hl-code">}</span></div></div></div><p>也可如此创建字典：</p><div class="example"><div class="example_code"><div class="hl-main"><span class="hl-identifier">tinydict1</span><span class="hl-code"> = { </span><span class="hl-quotes">'</span><span class="hl-string">abc</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-number">456</span><span class="hl-code"> } </span><span class="hl-identifier">tinydict2</span><span class="hl-code"> = { </span><span class="hl-quotes">'</span><span class="hl-string">abc</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-number">123</span><span class="hl-code">, </span><span class="hl-number">98.6</span><span class="hl-code">: </span><span class="hl-number">37</span><span class="hl-code"> }</span></div></div></div><hr><h2>访问字典里的值</h2><p>把相应的键放入熟悉的方括弧，如下实例:</p><div class="example"><h2 class="example">实例</h2><div class="example_code"><div class="hl-main"><span class="hl-comment">#!/usr/bin/python</span><span class="hl-code"></span><span class="hl-identifier">tinydict</span><span class="hl-code"> = {</span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">Zara</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Age</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-number">7</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Class</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">First</span><span class="hl-quotes">'</span><span class="hl-code">} </span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">tinydict['Name']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code"></span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">tinydict['Age']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">Age</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span></div></div></div><p>以上实例输出结果：</p><pre>

tinydict['Name']:  Zara

tinydict['Age']:  7

</pre><p>如果用字典里没有的键访问数据，会输出错误如下：</p><div class="example"><h2 class="example">实例</h2><div class="example_code"><div class="hl-main"><span class="hl-comment">#!/usr/bin/python</span><span class="hl-code"></span><span class="hl-identifier">tinydict</span><span class="hl-code"> = {</span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">Runoob</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Age</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-number">7</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Class</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">First</span><span class="hl-quotes">'</span><span class="hl-code">} </span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">tinydict['Alice']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">Alice</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span></div></div></div><p>以上实例输出结果：</p><pre>

tinydict['Alice']: 

Traceback (most recent call last):

  File "test.py", line 5, in &lt;module&gt;

    print "tinydict['Alice']: ", tinydict['Alice']

KeyError: 'Alice'

</pre><br><hr><h2>修改字典</h2><p>向字典添加新内容的方法是增加新的键/值对，修改或删除已有键/值对如下实例:</p><div class="example"><h2 class="example">实例</h2><div class="example_code"><div class="hl-main"><span class="hl-comment">#!/usr/bin/python</span><span class="hl-code"></span><span class="hl-comment"># -*- coding: UTF-8 -*-</span><span class="hl-code"></span><span class="hl-identifier">tinydict</span><span class="hl-code"> = {</span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">Zara</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Age</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-number">7</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Class</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">First</span><span class="hl-quotes">'</span><span class="hl-code">} </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">Age</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-number">8</span><span class="hl-code"> </span><span class="hl-comment"># 更新</span><span class="hl-code"></span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">School</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">RUNOOB</span><span class="hl-quotes">"</span><span class="hl-code"> </span><span class="hl-comment"># 添加</span><span class="hl-code"></span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">tinydict['Age']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">Age</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code"></span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">tinydict['School']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">School</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span></div></div></div> 以上实例输出结果： <pre>

tinydict['Age']:  8

tinydict['School']:  RUNOOB

</pre><br><hr><h2>删除字典元素</h2><p>能删单一的元素也能清空字典，清空只需一项操作。</p><p>显示删除一个字典用del命令，如下实例：</p><div class="example"><h2 class="example">实例</h2><div class="example_code"><div class="hl-main"><span class="hl-comment">#!/usr/bin/python</span><span class="hl-code"></span><span class="hl-comment"># -*- coding: UTF-8 -*-</span><span class="hl-code"></span><span class="hl-identifier">tinydict</span><span class="hl-code"> = {</span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">Zara</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Age</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-number">7</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Class</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">First</span><span class="hl-quotes">'</span><span class="hl-code">} </span><span class="hl-reserved">del</span><span class="hl-code"> </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code"> </span><span class="hl-comment"># 删除键是'Name'的条目</span><span class="hl-code"></span><span class="hl-identifier">tinydict</span><span class="hl-code">.</span><span class="hl-identifier">clear</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-comment"># 清空字典所有条目</span><span class="hl-code"></span><span class="hl-reserved">del</span><span class="hl-code"> </span><span class="hl-identifier">tinydict</span><span class="hl-code"> </span><span class="hl-comment"># 删除字典</span><span class="hl-code"></span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">tinydict['Age']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">Age</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code"></span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">tinydict['School']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">School</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span></div></div></div><p>但这会引发一个异常，因为用del后字典不再存在：</p><pre>

tinydict['Age']: 

Traceback (most recent call last):

  File "test.py", line 10, in &lt;module&gt;

    print "tinydict['Age']: ", tinydict['Age'] 

NameError: name 'tinydict' is not defined

</pre><p><strong>注：</strong>del() 方法后面也会讨论。</p><br><h3>字典键的特性</h3><p>字典值可以没有限制地取任何 python 对象，既可以是标准的对象，也可以是用户定义的，但键不行。</p><p>两个重要的点需要记住：<p><p>1）不允许同一个键出现两次。创建时如果同一个键被赋值两次，后一个值会被记住，如下实例：<p><div class="example"><h2 class="example">实例</h2><div class="example_code"><div class="hl-main"><span class="hl-comment">#!/usr/bin/python</span><span class="hl-code"></span><span class="hl-identifier">tinydict</span><span class="hl-code"> = {</span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">Runoob</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Age</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-number">7</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">Manni</span><span class="hl-quotes">'</span><span class="hl-code">} </span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">tinydict['Name']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span></div></div></div><p>以上实例输出结果：</p><pre>

tinydict['Name']:  Manni

</pre><p>2）键必须不可变，所以可以用数字，字符串或元组充当，所以用列表就不行，如下实例：</p><div class="example"><h2 class="example">实例</h2><div class="example_code"><div class="hl-main"><span class="hl-comment">#!/usr/bin/python</span><span class="hl-code"></span><span class="hl-identifier">tinydict</span><span class="hl-code"> = {</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span><span class="hl-code">: </span><span class="hl-quotes">'</span><span class="hl-string">Zara</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Age</span><span class="hl-quotes">'</span><span class="hl-code">: </span><span class="hl-number">7</span><span class="hl-code">} </span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">tinydict['Name']: </span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-identifier">tinydict</span><span class="hl-brackets">[</span><span class="hl-quotes">'</span><span class="hl-string">Name</span><span class="hl-quotes">'</span><span class="hl-brackets">]</span></div></div></div><p>以上实例输出结果：</p><pre>

Traceback (most recent call last):

  File "test.py", line 3, in &lt;module&gt;

    tinydict = {['Name']: 'Zara', 'Age': 7} 

TypeError: unhashable type: 'list'

</pre><br><hr><h2>字典内置函数&amp;方法</h2><p>Python字典包含了以下内置函数：</p><table class="reference"><tbody><tr><th>序号</th><th>函数及描述</th></tr><tr><td>1</td><td><a href="att-dictionary-cmp.html" rel="noopener noreferrer" target="_blank">cmp(dict1, dict2)</a><br>比较两个字典元素。</td></tr><tr><td>2</td><td><a href="att-dictionary-len.html" rel="noopener noreferrer" target="_blank">len(dict)</a><br>计算字典元素个数，即键的总数。</td></tr><tr><td>3</td><td><a href="att-dictionary-str.html" rel="noopener noreferrer" target="_blank">str(dict)</a><br>输出字典可打印的字符串表示。</td></tr><tr><td>4</td><td><a href="att-dictionary-type.html" rel="noopener noreferrer" target="_blank">type(variable)</a><br>返回输入的变量类型，如果变量是字典就返回字典类型。</td></tr></tbody></table><p>Python字典包含了以下内置方法：</p><table class="reference"><tbody><tr><th style="width:5%">序号</th><th style="width:95%">函数及描述</th></tr><tr><td>1</td><td><a href="att-dictionary-clear.html" rel="noopener noreferrer" target="_blank">dict.clear()</a><br>删除字典内所有元素 </td></tr><tr><td>2</td><td><a href="att-dictionary-copy.html" rel="noopener noreferrer" target="_blank">dict.copy()</a><br>返回一个字典的浅复制</td></tr><tr><td>3</td><td><a href="att-dictionary-fromkeys.html" rel="noopener noreferrer" target="_blank">dict.fromkeys(seq[, val])</a><br> 创建一个新字典，以序列 seq 中元素做字典的键，val 为字典所有键对应的初始值</td></tr><tr><td>4</td><td><a href="att-dictionary-get.html" rel="noopener noreferrer" target="_blank">dict.get(key, default=None)</a><br>返回指定键的值，如果值不在字典中返回default值</td></tr><tr><td>5</td><td><a href="att-dictionary-has_key.html" rel="noopener noreferrer" target="_blank">dict.has_key(key)</a><br>如果键在字典dict里返回true，否则返回false。<span class="deprecated">Python3 不支持。</span></td></tr><tr><td>6</td><td><a href="att-dictionary-items.html" rel="noopener noreferrer" target="_blank">dict.items()</a><br>以列表返回可遍历的(键, 值) 元组数组</td></tr><tr><td>7</td><td><a href="att-dictionary-keys.html" rel="noopener noreferrer" target="_blank">dict.keys()</a><br>以列表返回一个字典所有的键</td></tr><tr><td>8</td><td><a href="att-dictionary-setdefault.html" rel="noopener noreferrer" target="_blank">dict.setdefault(key, default=None)</a><br> 和get()类似, 但如果键不存在于字典中，将会添加键并将值设为default</td></tr><tr><td>9</td><td><a href="att-dictionary-update.html" rel="noopener noreferrer" target="_blank">dict.update(dict2)</a><br>把字典dict2的键/值对更新到dict里</td></tr><tr><td>10</td><td><a href="att-dictionary-values.html" rel="noopener noreferrer" target="_blank">dict.values()</a><br>以列表返回字典中的所有值</td></tr><tr><td>11</td><td><a href="python-att-dictionary-pop.html" rel="noopener noreferrer" target="_blank">pop(key[,default])</a><br>删除字典给定键 key 所对应的值，返回值为被删除的值。key值必须给出。 否则，返回default值。</td></tr><tr><td>12</td><td><a href="python-att-dictionary-popitem.html" rel="noopener noreferrer" target="_blank"> popitem()</a><br>返回并删除字典中的最后一对键和值。</td></tr></tbody></table> </p></p></p></p></div></div>